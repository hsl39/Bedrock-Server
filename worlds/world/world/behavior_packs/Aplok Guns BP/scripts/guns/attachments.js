/**
 * Hello, u're looking to steal my code, good luck!
 * If I were you I would at least ask permission before that,
 * I would be happy instead of you stealing my code and having to take drastic measures.
 * Well, thank you, Gabriel Aplok.
 *
 * Hm, maybe u're a bad guy searching to steal my attachments code?
 */

const _0x2ed1be=_0x25ba;(function(_0x4c1ec1,_0x4381c1){const _0x335893=_0x25ba,_0x38c00b=_0x4c1ec1();while(!![]){try{const _0x214768=parseInt(_0x335893(0x185))/0x1+-parseInt(_0x335893(0x1a4))/0x2+-parseInt(_0x335893(0x180))/0x3*(parseInt(_0x335893(0x175))/0x4)+-parseInt(_0x335893(0x19c))/0x5+-parseInt(_0x335893(0x197))/0x6+-parseInt(_0x335893(0x1bc))/0x7+parseInt(_0x335893(0x17c))/0x8*(parseInt(_0x335893(0x1b0))/0x9);if(_0x214768===_0x4381c1)break;else _0x38c00b['push'](_0x38c00b['shift']());}catch(_0x1de18d){_0x38c00b['push'](_0x38c00b['shift']());}}}(_0xf030,0xce5ca));import{system,EntityComponentTypes,EquipmentSlot}from'@minecraft/server';import{ModalFormData}from'@minecraft/server-ui';function _0x25ba(_0x463891,_0x2e9bbe){const _0xf030e4=_0xf030();return _0x25ba=function(_0x25baa3,_0x36df87){_0x25baa3=_0x25baa3-0x175;let _0x45561a=_0xf030e4[_0x25baa3];return _0x45561a;},_0x25ba(_0x463891,_0x2e9bbe);}import*as _0x59d382 from'../util';class Attachment{constructor(_0x2907ef,_0x35d6a5,_0x301edf){const _0x2a5d47=_0x25ba;_0x35d6a5!==undefined&&(this['item']=_0x35d6a5),_0x301edf!==undefined&&(this[_0x2a5d47(0x1aa)]=_0x301edf),this['index']=_0x2907ef;}}function _0xf030(){const _0xb29a5f=['length','Equippable','gabrielaplok:predator_v4_sight','gun:laser','6986088BWRSXw','foregrip','laser','getItemName','getProperty','6838275WtZPqW','dropdown','setDynamicProperty','getComponent','item','dimension','allow_attachment','setEquipment','2166360nzcXBr','tellraw\x20@s\x20{\x22rawtext\x22:\x20[{\x22translate\x22:\x20\x22game.message.gun_workbench.hold_gun\x22}]}','silencer','Grip\x20(','index','convertText','tag','title','includes','run','effect.gun.attach','location','51213483jUOOUn','is_gun','gabrielaplok:scope_lp','show','None','gabrielaplok:silencer','\x20options)','grip','sight','Silencer\x20(','gabrielaplok:laser_red','getTags','4314212wWkBdU','gabrielaplok:eotech_sight','1448aCTbpZ','§7Grip:\x20§c','isValid','gabrielaplok:foregrip','§7Silencer:\x20§c','playSound','queryItems','8gSCDys','§7Tactical:\x20§c','gun:grip','typeId','13719PTSDeu','random.click','gun:sight','push','amount','1041796lTOTqP','then','tellraw\x20@s\x20{\x22rawtext\x22:\x20[{\x22translate\x22:\x20\x22game.message.gun_workbench.np_support\x22}]}','gabrielaplok:acog_sight','gabrielaplok:laser_green','canceled','formValues','random.break','Mainhand','removePrefix','findIndex','map','tellraw\x20@s\x20{\x22rawtext\x22:\x20[{\x22translate\x22:\x20\x22game.message.gun_workbench.no_blueprints\x22}]}','runCommand'];_0xf030=function(){return _0xb29a5f;};return _0xf030();}const ATTACHMENTS={'sight':[new Attachment(0x0),new Attachment(0x1,_0x2ed1be(0x188)),new Attachment(0x2,_0x2ed1be(0x1bd)),new Attachment(0x3,'gabrielaplok:scope_hp'),new Attachment(0x4,_0x2ed1be(0x1b2)),new Attachment(0x5,_0x2ed1be(0x195))],'laser':[new Attachment(0x0),new Attachment(0x1,_0x2ed1be(0x189)),new Attachment(0x2,_0x2ed1be(0x1ba))],'silencer':[new Attachment(0x0),new Attachment(0x1,_0x2ed1be(0x1b5),_0x2ed1be(0x1a6))],'grip':[new Attachment(0x0),new Attachment(0x1,_0x2ed1be(0x178),_0x2ed1be(0x198))]},GUNS={'gabrielaplok:ak12':{'sight':[ATTACHMENTS[_0x2ed1be(0x1b8)][0x0],ATTACHMENTS['sight'][0x1],ATTACHMENTS['sight'][0x2],ATTACHMENTS['sight'][0x3],ATTACHMENTS[_0x2ed1be(0x1b8)][0x4]],'laser':[ATTACHMENTS[_0x2ed1be(0x199)][0x0],ATTACHMENTS[_0x2ed1be(0x199)][0x1],ATTACHMENTS[_0x2ed1be(0x199)][0x2]],'silencer':[ATTACHMENTS['silencer'][0x0],ATTACHMENTS[_0x2ed1be(0x1a6)][0x1]],'grip':[ATTACHMENTS[_0x2ed1be(0x1b7)][0x0],ATTACHMENTS[_0x2ed1be(0x1b7)][0x1]]},'gabrielaplok:ak47':{'sight':[ATTACHMENTS[_0x2ed1be(0x1b8)][0x0],ATTACHMENTS['sight'][0x1],ATTACHMENTS[_0x2ed1be(0x1b8)][0x2],ATTACHMENTS['sight'][0x3],ATTACHMENTS[_0x2ed1be(0x1b8)][0x4]],'laser':[ATTACHMENTS[_0x2ed1be(0x199)][0x0]],'silencer':[ATTACHMENTS[_0x2ed1be(0x1a6)][0x0],ATTACHMENTS[_0x2ed1be(0x1a6)][0x1]],'grip':[ATTACHMENTS[_0x2ed1be(0x1b7)][0x0]]},'gabrielaplok:awp':{'sight':[ATTACHMENTS[_0x2ed1be(0x1b8)][0x0],ATTACHMENTS[_0x2ed1be(0x1b8)][0x1],ATTACHMENTS[_0x2ed1be(0x1b8)][0x2],ATTACHMENTS['sight'][0x3],ATTACHMENTS['sight'][0x4]],'laser':[ATTACHMENTS[_0x2ed1be(0x199)][0x0]],'silencer':[ATTACHMENTS[_0x2ed1be(0x1a6)][0x0],ATTACHMENTS[_0x2ed1be(0x1a6)][0x1]],'grip':[ATTACHMENTS['grip'][0x0]]},'gabrielaplok:deagle':{'sight':[ATTACHMENTS[_0x2ed1be(0x1b8)][0x0]],'laser':[ATTACHMENTS[_0x2ed1be(0x199)][0x0],ATTACHMENTS[_0x2ed1be(0x199)][0x1],ATTACHMENTS[_0x2ed1be(0x199)][0x2]],'silencer':[ATTACHMENTS['silencer'][0x0],ATTACHMENTS[_0x2ed1be(0x1a6)][0x1]],'grip':[ATTACHMENTS[_0x2ed1be(0x1b7)][0x0]]},'gabrielaplok:fnfal':{'sight':[ATTACHMENTS[_0x2ed1be(0x1b8)][0x0],ATTACHMENTS[_0x2ed1be(0x1b8)][0x1],ATTACHMENTS[_0x2ed1be(0x1b8)][0x2],ATTACHMENTS[_0x2ed1be(0x1b8)][0x3],ATTACHMENTS['sight'][0x4]],'laser':[ATTACHMENTS[_0x2ed1be(0x199)][0x0]],'silencer':[ATTACHMENTS['silencer'][0x0],ATTACHMENTS[_0x2ed1be(0x1a6)][0x1]],'grip':[ATTACHMENTS[_0x2ed1be(0x1b7)][0x0]]},'gabrielaplok:glock17':{'sight':[ATTACHMENTS['sight'][0x0],ATTACHMENTS['sight'][0x5]],'laser':[ATTACHMENTS[_0x2ed1be(0x199)][0x0],ATTACHMENTS[_0x2ed1be(0x199)][0x1],ATTACHMENTS[_0x2ed1be(0x199)][0x2]],'silencer':[ATTACHMENTS[_0x2ed1be(0x1a6)][0x0],ATTACHMENTS[_0x2ed1be(0x1a6)][0x1]],'grip':[ATTACHMENTS[_0x2ed1be(0x1b7)][0x0]]},'gabrielaplok:glock18':{'sight':[ATTACHMENTS['sight'][0x0],ATTACHMENTS[_0x2ed1be(0x1b8)][0x5]],'laser':[ATTACHMENTS[_0x2ed1be(0x199)][0x0],ATTACHMENTS[_0x2ed1be(0x199)][0x1],ATTACHMENTS[_0x2ed1be(0x199)][0x2]],'silencer':[ATTACHMENTS[_0x2ed1be(0x1a6)][0x0],ATTACHMENTS[_0x2ed1be(0x1a6)][0x1]],'grip':[ATTACHMENTS['grip'][0x0]]},'gabrielaplok:m249':{'sight':[ATTACHMENTS['sight'][0x0]],'laser':[ATTACHMENTS[_0x2ed1be(0x199)][0x0],ATTACHMENTS[_0x2ed1be(0x199)][0x1],ATTACHMENTS[_0x2ed1be(0x199)][0x2]],'silencer':[ATTACHMENTS[_0x2ed1be(0x1a6)][0x0]],'grip':[ATTACHMENTS['grip'][0x0]]},'gabrielaplok:m4a1':{'sight':[ATTACHMENTS[_0x2ed1be(0x1b8)][0x0],ATTACHMENTS[_0x2ed1be(0x1b8)][0x1],ATTACHMENTS[_0x2ed1be(0x1b8)][0x2],ATTACHMENTS['sight'][0x3],ATTACHMENTS[_0x2ed1be(0x1b8)][0x4]],'laser':[ATTACHMENTS[_0x2ed1be(0x199)][0x0],ATTACHMENTS[_0x2ed1be(0x199)][0x1],ATTACHMENTS[_0x2ed1be(0x199)][0x2]],'silencer':[ATTACHMENTS[_0x2ed1be(0x1a6)][0x0],ATTACHMENTS[_0x2ed1be(0x1a6)][0x1]],'grip':[ATTACHMENTS['grip'][0x0],ATTACHMENTS['grip'][0x1]]},'gabrielaplok:mossberg':{'sight':[ATTACHMENTS['sight'][0x0]],'laser':[ATTACHMENTS[_0x2ed1be(0x199)][0x0]],'silencer':[ATTACHMENTS[_0x2ed1be(0x1a6)][0x0]],'grip':[ATTACHMENTS[_0x2ed1be(0x1b7)][0x0]]},'gabrielaplok:mp5a5':{'sight':[ATTACHMENTS[_0x2ed1be(0x1b8)][0x0],ATTACHMENTS['sight'][0x1],ATTACHMENTS[_0x2ed1be(0x1b8)][0x2],ATTACHMENTS[_0x2ed1be(0x1b8)][0x3],ATTACHMENTS['sight'][0x4]],'laser':[ATTACHMENTS[_0x2ed1be(0x199)][0x0]],'silencer':[ATTACHMENTS['silencer'][0x0],ATTACHMENTS[_0x2ed1be(0x1a6)][0x1]],'grip':[ATTACHMENTS[_0x2ed1be(0x1b7)][0x0],ATTACHMENTS['grip'][0x1]]}},hasBlueprints=_0x49c292=>{const _0x48391f=_0x2ed1be,_0x58d9a6=_0x59d382[_0x48391f(0x17b)](_0x49c292,['gabrielaplok:blueprint_attachments']);return _0x58d9a6[_0x48391f(0x184)]>=0x1?_0x58d9a6[_0x48391f(0x184)]:-0x1;},openAttachmentsMenu=async(_0x17a807,_0x1e4199)=>{const _0x384e33=_0x2ed1be;if(!_0x17a807||!_0x17a807['isValid']()||!_0x1e4199)return;const _0x23e471=_0x17a807[_0x384e33(0x19f)](EntityComponentTypes[_0x384e33(0x194)]),_0x5d4609=_0x1e4199?.[_0x384e33(0x17f)],_0x19c1b0=GUNS[_0x5d4609],_0x1cb656=new ModalFormData();_0x1cb656[_0x384e33(0x1ab)]({'rawtext':[{'text':'Attachments\x20for\x20'},{'translate':_0x59d382[_0x384e33(0x19a)](_0x5d4609)}]}),_0x1cb656[_0x384e33(0x19d)]('Sight\x20('+(_0x19c1b0['sight'][_0x384e33(0x193)]-0x1)+_0x384e33(0x1b6),_0x19c1b0[_0x384e33(0x1b8)]['map'](_0x7c8d7=>_0x7c8d7[_0x384e33(0x1a8)]===0x0?_0x384e33(0x1b4):_0x59d382[_0x384e33(0x19a)](_0x7c8d7[_0x384e33(0x1a0)])),_0x19c1b0['sight'][_0x384e33(0x18f)](_0x59433a=>_0x59433a[_0x384e33(0x1a8)]===_0x17a807[_0x384e33(0x19b)](_0x384e33(0x182)))),_0x1cb656[_0x384e33(0x19d)]('Tactical\x20('+(_0x19c1b0[_0x384e33(0x199)][_0x384e33(0x193)]-0x1)+_0x384e33(0x1b6),_0x19c1b0[_0x384e33(0x199)]['map'](_0x316c5a=>_0x316c5a[_0x384e33(0x1a8)]===0x0?_0x384e33(0x1b4):_0x59d382['getItemName'](_0x316c5a[_0x384e33(0x1a0)])),_0x19c1b0[_0x384e33(0x199)][_0x384e33(0x18f)](_0x20ded7=>_0x20ded7[_0x384e33(0x1a8)]===_0x17a807[_0x384e33(0x19b)](_0x384e33(0x196)))),_0x1cb656[_0x384e33(0x19d)](_0x384e33(0x1b9)+(_0x19c1b0[_0x384e33(0x1a6)][_0x384e33(0x193)]-0x1)+'\x20options)',_0x19c1b0[_0x384e33(0x1a6)]['map'](_0x1ba859=>_0x1ba859[_0x384e33(0x1a8)]===0x0?_0x384e33(0x1b4):_0x59d382[_0x384e33(0x19a)](_0x1ba859[_0x384e33(0x1a0)])),_0x19c1b0['silencer'][_0x384e33(0x18f)](_0x3533f3=>_0x3533f3[_0x384e33(0x1a8)]===_0x17a807['getProperty']('gun:silencer'))),_0x1cb656[_0x384e33(0x19d)](_0x384e33(0x1a7)+(_0x19c1b0[_0x384e33(0x1b7)]['length']-0x1)+'\x20options)',_0x19c1b0[_0x384e33(0x1b7)][_0x384e33(0x190)](_0x1730bf=>_0x1730bf[_0x384e33(0x1a8)]===0x0?'None':_0x59d382[_0x384e33(0x19a)](_0x1730bf[_0x384e33(0x1a0)])),_0x19c1b0[_0x384e33(0x1b7)][_0x384e33(0x18f)](_0x2052df=>_0x2052df[_0x384e33(0x1a8)]===_0x17a807[_0x384e33(0x19b)](_0x384e33(0x17e)))),_0x1cb656[_0x384e33(0x1b3)](_0x17a807)[_0x384e33(0x186)](_0x36a5d5=>{const _0x44e2d4=_0x384e33;if(!_0x36a5d5[_0x44e2d4(0x18a)]){if(hasBlueprints(_0x17a807)>=0x1){_0x17a807[_0x44e2d4(0x192)]('clear\x20@s[m=!c]\x20gabrielaplok:blueprint_attachments\x200\x201');const _0x11e002=_0x19c1b0[_0x44e2d4(0x1b8)][_0x36a5d5['formValues'][0x0]],_0x34bea9=_0x19c1b0[_0x44e2d4(0x199)][_0x36a5d5[_0x44e2d4(0x18b)][0x1]],_0x52ec38=_0x19c1b0[_0x44e2d4(0x1a6)][_0x36a5d5[_0x44e2d4(0x18b)][0x2]],_0x1e9972=_0x19c1b0['grip'][_0x36a5d5[_0x44e2d4(0x18b)][0x3]],_0x5ce572=[];if(_0x11e002['index']>=0x1)_0x5ce572[_0x44e2d4(0x183)]('§7Sight:\x20§c'+_0x59d382[_0x44e2d4(0x1a9)](_0x59d382['removePrefix'](_0x11e002[_0x44e2d4(0x1a0)])));if(_0x34bea9['index']>=0x1)_0x5ce572[_0x44e2d4(0x183)](_0x44e2d4(0x17d)+_0x59d382[_0x44e2d4(0x1a9)](_0x59d382[_0x44e2d4(0x18e)](_0x34bea9[_0x44e2d4(0x1a0)])));if(_0x52ec38[_0x44e2d4(0x1a8)]>=0x1)_0x5ce572[_0x44e2d4(0x183)](_0x44e2d4(0x179)+_0x59d382[_0x44e2d4(0x1a9)](_0x59d382[_0x44e2d4(0x18e)](_0x52ec38['item'])));if(_0x1e9972[_0x44e2d4(0x1a8)]>=0x1)_0x5ce572[_0x44e2d4(0x183)](_0x44e2d4(0x176)+_0x59d382[_0x44e2d4(0x1a9)](_0x59d382[_0x44e2d4(0x18e)](_0x1e9972[_0x44e2d4(0x1a0)])));_0x1e4199['setDynamicProperty'](_0x44e2d4(0x182),_0x11e002['index']),_0x1e4199[_0x44e2d4(0x19e)]('gun:laser',_0x34bea9[_0x44e2d4(0x1a8)]),_0x1e4199[_0x44e2d4(0x19e)]('gun:silencer',_0x52ec38[_0x44e2d4(0x1a8)]),_0x1e4199[_0x44e2d4(0x19e)](_0x44e2d4(0x17e),_0x1e9972[_0x44e2d4(0x1a8)]),_0x1e4199['setLore'](_0x5ce572),_0x23e471[_0x44e2d4(0x1a3)](EquipmentSlot[_0x44e2d4(0x18d)],_0x1e4199),_0x59d382[_0x44e2d4(0x17a)](_0x17a807['dimension'],_0x44e2d4(0x1ae),_0x17a807[_0x44e2d4(0x1af)],0x14);}else _0x59d382['playSound'](_0x17a807['dimension'],_0x44e2d4(0x18c),_0x17a807[_0x44e2d4(0x1af)],0x14),_0x17a807[_0x44e2d4(0x192)](_0x44e2d4(0x191));}});};export const attachmentWorkbench=_0x357c12=>{const _0x2ff5ac=_0x2ed1be;system[_0x2ff5ac(0x1ad)](()=>{const _0xa40895=_0x2ff5ac;if(!_0x357c12||!_0x357c12[_0xa40895(0x177)]())return;const _0x34de3c=_0x357c12[_0xa40895(0x19f)](EntityComponentTypes[_0xa40895(0x194)]);if(!_0x34de3c)return;const _0x235f1d=_0x34de3c['getEquipment'](EquipmentSlot[_0xa40895(0x18d)]);if(!_0x235f1d||!_0x235f1d[_0xa40895(0x1bb)]()[_0xa40895(0x1ac)](_0xa40895(0x1b1))){_0x59d382['playSound'](_0x357c12[_0xa40895(0x1a1)],_0xa40895(0x181),_0x357c12['location'],0x14),_0x357c12['runCommand'](_0xa40895(0x1a5));return;}if(!_0x235f1d[_0xa40895(0x1bb)]()['includes'](_0xa40895(0x1a2))){_0x59d382['playSound'](_0x357c12[_0xa40895(0x1a1)],_0xa40895(0x181),_0x357c12[_0xa40895(0x1af)],0x14),_0x357c12['runCommand'](_0xa40895(0x187));return;}hasBlueprints(_0x357c12)>=0x1?openAttachmentsMenu(_0x357c12,_0x235f1d):(_0x59d382[_0xa40895(0x17a)](_0x357c12[_0xa40895(0x1a1)],'random.click',_0x357c12[_0xa40895(0x1af)],0x14),_0x357c12[_0xa40895(0x192)](_0xa40895(0x191)));});};
